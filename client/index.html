<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <base href="/">
</head>
<body layout="row" ng-app="sam-1" ng-controller="AppCtrl" layout="column">
    <md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left" >
        <md-toolbar class="md-theme-light">
            <h1 class="md-toolbar-tools">Menu</h1>
        </md-toolbar>
        <md-content  layout-padding layout="column">
            <md-button ng-repeat="module in allowed" ng-click="showMenu(module)">
                <div main-tex></div>
            </md-button>
            <md-button class="md-accent" flex ng-click="logOut()" aria-label="Menu">
                Salir
            </md-button>
        </md-content>
    </md-sidenav>
    <div layout="column" layout-align="center center" ng-hide="$root.currentUser">
        <img src="client/lib/ambulance.png" class="logo" alt="Image"/>
        <form layout="column" name="loginForm" class="form-center" novalidate>
            <md-input-container>
                <label>Nombre de usuario</label>
                <input ng-model="username" required name="username">
                <div ng-messages="loginForm.username.$error" ng-if="loginForm.username.$dirty">
                    <div ng-message="required">*Campo obligatorio</div>
                </div>
            </md-input-container>
            <md-input-container>
                <label>Password</label>
                <input ng-model="password" required name="password" type="password">
                <div ng-messages="loginForm.password.$error" ng-if="loginForm.password.$dirty">
                    <div ng-message="required">*Campo obligatorio</div>
                </div>
            </md-input-container>
            <label class="error">{{app.error}}</label>
            <md-button class="md-raised md-primary" ng-click="login()" ng-disabled="loginForm.$invalid">Sign in</md-button>
        </form>
    </div>
    <header md-page-header ng-show="$root.currentUser">
        <md-toolbar layout="column"  flex="10" scroll>
            <div class="title md-tall" layout="row">
                <md-button class="md-icon-button" ng-click="showLeftMenu()" aria-label="Menu">
                    <i class="fa fa-bars"></i>
                </md-button>
                <div text ng-model="{{currentModule}}"></div>
            </div>
            <md-tabs class="secondary-sidenav">
                <md-tab ng-repeat="module in allowed">
                    <div demo-directive  ng-click="goToModule(module)"></div>
                </md-tab>
            </md-tabs>
        </md-toolbar>
    </header>
    <br /><br />
    <section class="controller-content">
            <div ui-view class="controller-content" flex="90" ng-show="$root.currentUser"></div>
    </section>
</body>
